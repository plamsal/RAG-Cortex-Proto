--liquibase formatted sql
--changeset RAML:i901234567-2345-6789-abcd-ef0123456789  runOnChange:true


CREATE OR REPLACE TABLE MFGDB.PRODUCTION_ORDERS (
    ORDER_ID VARCHAR(50) PRIMARY KEY,
    ORDER_NUMBER VARCHAR(30) NOT NULL UNIQUE,
    PRODUCT_CODE VARCHAR(50),
    PRODUCT_NAME VARCHAR(200),
    QUANTITY_ORDERED INT,
    QUANTITY_PRODUCED INT,
    UNIT_OF_MEASURE VARCHAR(20),
    PRODUCTION_LINE VARCHAR(50),
    START_DATE TIMESTAMP_NTZ,
    END_DATE TIMESTAMP_NTZ,
    STATUS VARCHAR(30),
    PRIORITY VARCHAR(20),
    CUSTOMER_ORDER_REF VARCHAR(50),
    ESTIMATED_COST DECIMAL(15,2),
    ACTUAL_COST DECIMAL(15,2),
    NOTES VARCHAR(1000)
);

INSERT INTO MFGDB.PRODUCTION_ORDERS VALUES
('PO001', 'MFG-2025-001', 'PROD-A100', 'Widget Type A', 1000, 950, 'UNITS', 'LINE-01', '2025-12-10 08:00:00', '2025-12-15 17:00:00', 'COMPLETED', 'HIGH', 'CUST-ORD-123', 50000.00, 48500.00, 'Production completed successfully'),
('PO002', 'MFG-2025-002', 'PROD-B200', 'Gadget Type B', 500, 500, 'UNITS', 'LINE-02', '2025-12-12 08:00:00', '2025-12-17 17:00:00', 'COMPLETED', 'MEDIUM', 'CUST-ORD-124', 35000.00, 35200.00, 'Slight cost overrun due to material shortage'),
('PO003', 'MFG-2025-003', 'PROD-C300', 'Component Type C', 2000, 1850, 'UNITS', 'LINE-01', '2025-12-14 08:00:00', NULL, 'IN_PROGRESS', 'HIGH', 'CUST-ORD-125', 80000.00, NULL, 'On schedule'),
('PO004', 'MFG-2025-004', 'PROD-D400', 'Assembly Type D', 750, 0, 'UNITS', 'LINE-03', '2025-12-20 08:00:00', NULL, 'SCHEDULED', 'LOW', 'CUST-ORD-126', 45000.00, NULL, 'Waiting for raw materials'),
('PO005', 'MFG-2025-005', 'PROD-A100', 'Widget Type A', 1500, 0, 'UNITS', 'LINE-01', '2025-12-22 08:00:00', NULL, 'SCHEDULED', 'MEDIUM', 'CUST-ORD-127', 75000.00, NULL, 'Scheduled for next week');


CREATE OR REPLACE TABLE MFGDB.RAW_MATERIALS (
    MATERIAL_ID VARCHAR(50) PRIMARY KEY,
    MATERIAL_CODE VARCHAR(30) NOT NULL UNIQUE,
    MATERIAL_NAME VARCHAR(200),
    CATEGORY VARCHAR(50),
    UNIT_OF_MEASURE VARCHAR(20),
    QUANTITY_IN_STOCK DECIMAL(12,3),
    REORDER_POINT DECIMAL(12,3),
    UNIT_COST DECIMAL(10,2),
    SUPPLIER_ID VARCHAR(50),
    LAST_PURCHASE_DATE DATE,
    STORAGE_LOCATION VARCHAR(100)
);

INSERT INTO MFGDB.RAW_MATERIALS VALUES
('MAT001', 'RM-STEEL-001', 'Steel Sheet 2mm', 'METALS', 'KG', 5000.000, 1000.000, 2.50, 'SUPP-M001', '2025-12-01', 'WAREHOUSE-A'),
('MAT002', 'RM-PLASTIC-001', 'ABS Plastic Pellets', 'PLASTICS', 'KG', 2000.000, 500.000, 3.75, 'SUPP-M002', '2025-12-05', 'WAREHOUSE-B'),
('MAT003', 'RM-COPPER-001', 'Copper Wire 1.5mm', 'METALS', 'M', 10000.000, 2000.000, 0.50, 'SUPP-M003', '2025-12-08', 'WAREHOUSE-A'),
('MAT004', 'RM-RUBBER-001', 'Rubber Gasket Material', 'RUBBER', 'M', 3000.000, 800.000, 1.25, 'SUPP-M004', '2025-12-10', 'WAREHOUSE-C'),
('MAT005', 'RM-CIRCUIT-001', 'PCB Board Blanks', 'ELECTRONICS', 'UNITS', 500.000, 100.000, 15.00, 'SUPP-M005', '2025-12-12', 'WAREHOUSE-D');
