--liquibase formatted sql
--changeset RAML:ah456789012-bcde-f012-3456-345678901234  runOnChange:true


CREATE OR REPLACE TABLE INSURANCEDB.POLICIES (
    POLICY_ID VARCHAR(50) PRIMARY KEY,
    POLICY_NUMBER VARCHAR(30) NOT NULL UNIQUE,
    POLICYHOLDER_ID VARCHAR(50),
    POLICY_TYPE VARCHAR(50),
    COVERAGE_TYPE VARCHAR(100),
    START_DATE DATE,
    END_DATE DATE,
    STATUS VARCHAR(30),
    PREMIUM_AMOUNT DECIMAL(12,2),
    PAYMENT_FREQUENCY VARCHAR(20),
    COVERAGE_LIMIT DECIMAL(15,2),
    DEDUCTIBLE DECIMAL(10,2),
    AGENT_ID VARCHAR(50),
    BENEFICIARY_NAME VARCHAR(200),
    BENEFICIARY_RELATIONSHIP VARCHAR(50)
);

INSERT INTO INSURANCEDB.POLICIES VALUES
('POL001', 'AUTO-2024-001', 'PH001', 'AUTO', 'Comprehensive', '2024-01-01', '2025-01-01', 'ACTIVE', 1200.00, 'ANNUAL', 250000.00, 1000.00, 'AGT-I001', 'Mary Johnson', 'SPOUSE'),
('POL002', 'HOME-2024-002', 'PH002', 'HOME', 'Full Coverage', '2024-03-15', '2025-03-15', 'ACTIVE', 2400.00, 'ANNUAL', 500000.00, 2500.00, 'AGT-I002', 'Estate of Robert Davis', 'ESTATE'),
('POL003', 'LIFE-2023-045', 'PH003', 'LIFE', 'Term Life - 20 Year', '2023-06-01', '2043-06-01', 'ACTIVE', 600.00, 'ANNUAL', 1000000.00, 0.00, 'AGT-I001', 'Sarah Martinez', 'SPOUSE'),
('POL004', 'HEALTH-2025-001', 'PH004', 'HEALTH', 'PPO Plan', '2025-01-01', '2026-01-01', 'ACTIVE', 7200.00, 'ANNUAL', 5000000.00, 3000.00, 'AGT-I003', 'Self', 'SELF'),
('POL005', 'AUTO-2024-015', 'PH005', 'AUTO', 'Liability Only', '2024-09-01', '2025-09-01', 'ACTIVE', 800.00, 'SEMI_ANNUAL', 100000.00, 500.00, 'AGT-I001', 'Jennifer Wilson', 'SPOUSE');


CREATE OR REPLACE TABLE INSURANCEDB.POLICYHOLDERS (
    POLICYHOLDER_ID VARCHAR(50) PRIMARY KEY,
    FIRST_NAME VARCHAR(100),
    LAST_NAME VARCHAR(100),
    EMAIL VARCHAR(150),
    PHONE_NUMBER VARCHAR(20),
    DATE_OF_BIRTH DATE,
    ADDRESS VARCHAR(500),
    CITY VARCHAR(100),
    STATE VARCHAR(50),
    ZIP_CODE VARCHAR(20),
    OCCUPATION VARCHAR(100),
    MARITAL_STATUS VARCHAR(20),
    RISK_CATEGORY VARCHAR(30)
);

INSERT INTO INSURANCEDB.POLICYHOLDERS VALUES
('PH001', 'John', 'Johnson', 'john.j@email.com', '+1-555-7001', '1985-04-15', '123 Safe St', 'Boston', 'MA', '02101', 'Software Engineer', 'MARRIED', 'LOW_RISK'),
('PH002', 'Patricia', 'Davis', 'patricia.d@email.com', '+1-555-7002', '1978-08-22', '456 Secure Ave', 'Seattle', 'WA', '98101', 'Business Owner', 'SINGLE', 'MEDIUM_RISK'),
('PH003', 'Carlos', 'Martinez', 'carlos.m@email.com', '+1-555-7003', '1990-11-30', '789 Protection Blvd', 'Miami', 'FL', '33101', 'Teacher', 'MARRIED', 'LOW_RISK'),
('PH004', 'Linda', 'Anderson', 'linda.a@email.com', '+1-555-7004', '1982-03-18', '321 Coverage Dr', 'Denver', 'CO', '80201', 'Nurse', 'SINGLE', 'LOW_RISK'),
('PH005', 'Michael', 'Wilson', 'michael.w@email.com', '+1-555-7005', '1995-12-05', '654 Benefit Rd', 'Austin', 'TX', '78701', 'Sales Manager', 'MARRIED', 'MEDIUM_RISK');
