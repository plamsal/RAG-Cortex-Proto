--liquibase formatted sql
--changeset PratikL:e567890123-ef01-2345-6789-abcdef012345  runOnChange:true


CREATE OR REPLACE TABLE HRDB.ATTENDANCE (
    ATTENDANCE_ID VARCHAR(50) PRIMARY KEY,
    EMPLOYEE_ID VARCHAR(50),
    ATTENDANCE_DATE DATE,
    CHECK_IN_TIME TIMESTAMP_NTZ,
    CHECK_OUT_TIME TIMESTAMP_NTZ,
    HOURS_WORKED DECIMAL(5,2),
    STATUS VARCHAR(30),
    LOCATION VARCHAR(100),
    NOTES VARCHAR(500)
);

INSERT INTO HRDB.ATTENDANCE VALUES
('ATT001', 'EMP001', '2025-12-16', '2025-12-16 09:00:00', '2025-12-16 17:30:00', 8.5, 'PRESENT', 'New York Office', NULL),
('ATT002', 'EMP002', '2025-12-16', '2025-12-16 08:45:00', '2025-12-16 17:00:00', 8.25, 'PRESENT', 'San Francisco Office', NULL),
('ATT003', 'EMP003', '2025-12-16', '2025-12-16 09:15:00', '2025-12-16 18:00:00', 8.75, 'PRESENT', 'Chicago Office', 'Stayed late for project deadline'),
('ATT004', 'EMP004', '2025-12-16', NULL, NULL, 0.00, 'SICK_LEAVE', 'Boston Office', 'Called in sick'),
('ATT005', 'EMP005', '2025-12-16', '2025-12-16 10:00:00', '2025-12-16 14:00:00', 4.00, 'HALF_DAY', 'Remote', 'Personal appointment in afternoon'),
('ATT006', 'EMP001', '2025-12-17', '2025-12-17 08:55:00', '2025-12-17 17:25:00', 8.5, 'PRESENT', 'New York Office', NULL),
('ATT007', 'EMP002', '2025-12-17', NULL, NULL, 8.00, 'VACATION', 'San Francisco Office', 'Pre-approved vacation');


CREATE OR REPLACE TABLE HRDB.LEAVE_REQUESTS (
    LEAVE_REQUEST_ID VARCHAR(50) PRIMARY KEY,
    EMPLOYEE_ID VARCHAR(50),
    LEAVE_TYPE VARCHAR(30),
    START_DATE DATE,
    END_DATE DATE,
    DAYS_REQUESTED DECIMAL(4,1),
    REASON VARCHAR(500),
    STATUS VARCHAR(30),
    APPROVER_ID VARCHAR(50),
    APPROVAL_DATE DATE,
    APPROVAL_NOTES VARCHAR(500)
);

INSERT INTO HRDB.LEAVE_REQUESTS VALUES
('LR001', 'EMP001', 'VACATION', '2025-12-24', '2025-12-27', 4.0, 'Christmas holiday', 'APPROVED', 'EMP010', '2025-12-01', 'Approved'),
('LR002', 'EMP002', 'VACATION', '2025-12-17', '2025-12-20', 4.0, 'Family trip', 'APPROVED', 'EMP011', '2025-11-15', 'Enjoy your trip'),
('LR003', 'EMP003', 'SICK_LEAVE', '2026-01-05', '2026-01-06', 2.0, 'Medical appointment', 'PENDING', NULL, NULL, NULL),
('LR004', 'EMP004', 'PERSONAL', '2026-01-15', '2026-01-15', 1.0, 'Personal matter', 'PENDING', 'EMP013', NULL, NULL);
